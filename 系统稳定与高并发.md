# 系统稳定与高并发

## 限流

https://zhuanlan.zhihu.com/p/338368004

#### 方案

+ 计数限流

+ 固定窗口限流

+ 滑动窗口限流

+ 漏桶算法

+ 令牌桶算法

#### 分布式限流

## 降级

内部暂时舍弃对一些非核心的接口和数据的请求，而直接返回一个提前准备好的fallback（退路）错误处理信息

## 熔断

+ 关闭

+ 打开

+ 半打开

## 负载均衡

## 高并发系统搭建

#### 目标

##### 高性能

+ 平均值

+ 最大值

+ 分位值

##### 高可用

+ 平均故障间隔

+ 平均故障恢复时间

##### 可扩展

#### 实现

##### mysql

+ 读写分离

+ 按业务分库

+ 大表拆小表

##### redis

+ redis作mysql缓存

##### mq

+ 加入mq削峰填谷，异步消费

##### 负载均衡

+ 使用nginx负载均衡

+ 使用LVS或F5使nginx负载均衡

+ DNS轮询

##### 流量控制算法

+ 固定窗口

+ 滑动窗口

+ 漏桶

+ 令牌桶

##### 采用搜索引擎和nosql数据库替代mysql

+ redis

+ mongodb

+ es

##### 微服务

+ 大应用拆分为小应用

+ 微服务复用

+ 使用k8s动态部署

+ 使用云平台承载服务

#### 演化

[服务端高并发分布式架构演进之路](https://segmentfault.com/a/1190000018626163)


